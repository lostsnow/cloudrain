!function(){function r(){this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0}var t,n,o="undefined"!=typeof module,e=[[{color:"0, 0, 0","class":"ansi-black"},{color:"187, 0, 0","class":"ansi-red"},{color:"0, 187, 0","class":"ansi-green"},{color:"187, 187, 0","class":"ansi-yellow"},{color:"0, 0, 187","class":"ansi-blue"},{color:"187, 0, 187","class":"ansi-magenta"},{color:"0, 187, 187","class":"ansi-cyan"},{color:"255,255,255","class":"ansi-white"}],[{color:"85, 85, 85","class":"ansi-bright-black"},{color:"255, 85, 85","class":"ansi-bright-red"},{color:"0, 255, 0","class":"ansi-bright-green"},{color:"255, 255, 85","class":"ansi-bright-yellow"},{color:"85, 85, 255","class":"ansi-bright-blue"},{color:"255, 85, 255","class":"ansi-bright-magenta"},{color:"85, 255, 255","class":"ansi-bright-cyan"},{color:"255, 255, 255","class":"ansi-bright-white"}]];r.prototype.setup_palette=function(){n=[],function(){var r,t;for(r=0;2>r;++r)for(t=0;8>t;++t)n.push(e[r][t].color)}(),function(){var r,t,o,e=[0,95,135,175,215,255],s=function(r,t,n){return e[r]+", "+e[t]+", "+e[n]};for(r=0;6>r;++r)for(t=0;6>t;++t)for(o=0;6>o;++o)n.push(s.call(this,r,t,o))}(),function(){var r,t=8,o=function(r){return r+", "+r+", "+r};for(r=0;24>r;++r,t+=10)n.push(o.call(this,t))}()},r.prototype.escape_for_html=function(r){return r.replace(/[&<>]/gm,function(r){return"&"==r?"&":"<"==r?"&lt;":">"==r?"&gt;":void 0})},r.prototype.linkify=function(r){return r.replace(/(https?:\/\/[^\s]+)/gm,function(r){return'<a href="'+r+'">'+r+"</a>"})},r.prototype.ansi_to_html=function(r,t){return this.process(r,t,!0)},r.prototype.ansi_to_text=function(r){var t={};return this.process(r,t,!1)},r.prototype.process=function(r,t,n){var o=this,e=r.split(/\033\[/),s=e.shift(),i=e.map(function(r){return o.process_chunk(r,t,n)});return i.unshift(s),i.join("")},r.prototype.process_chunk=function(r,t,o){t="undefined"==typeof t?{}:t;var s="undefined"!=typeof t.use_classes&&t.use_classes,i=s?"class":"color",l=r.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!l)return r;var a=l[4],c=l[2].split(";");if(""!==l[1]||"m"!==l[3])return a;if(!o)return a;for(var u=this;c.length>0;){var f=c.shift(),g=parseInt(f);isNaN(g)||0===g?(u.fg=u.bg=null,u.bright=0):1===g?u.bright=1:39==g?u.fg=null:49==g?u.bg=null:g>=30&&38>g?u.fg=e[u.bright][g%10][i]:g>=90&&98>g?u.fg=e[1][g%10][i]:g>=40&&48>g?u.bg=e[0][g%10][i]:g>=100&&108>g?u.bg=e[1][g%10][i]:(38===g||48===g)&&!function(){var r=38===g;if(c.length>=1){var t=c.shift();if("5"===t&&c.length>=1){var o=parseInt(c.shift());if(o>=0&&255>=o)if(s){var i=o>=16?"ansi-palette-"+o:e[o>7?1:0][o%8]["class"];r?u.fg=i:u.bg=i}else n||u.setup_palette.call(u),r?u.fg=n[o]:u.bg=n[o]}else if("2"===t&&c.length>=3){var l=parseInt(c.shift()),a=parseInt(c.shift()),f=parseInt(c.shift());if(l>=0&&255>=l&&a>=0&&255>=a&&f>=0&&255>=f){var p=l+", "+a+", "+f;s?r?(u.fg="ansi-truecolor",u.fg_truecolor=p):(u.bg="ansi-truecolor",u.bg_truecolor=p):r?u.fg=p:u.bg=p}}}}()}if(null===u.fg&&null===u.bg)return a;var p=[],h=[],_={},b=function(r){var t,n=[];for(t in r)r.hasOwnProperty(t)&&n.push("data-"+t+'="'+this.escape_for_html(r[t])+'"');return n.length>0?" "+n.join(" "):""};return u.fg&&(s?(h.push(u.fg+"-fg"),null!==u.fg_truecolor&&(_["ansi-truecolor-fg"]=u.fg_truecolor,u.fg_truecolor=null)):p.push("color:rgb("+u.fg+")")),u.bg&&(s?(h.push(u.bg+"-bg"),null!==u.bg_truecolor&&(_["ansi-truecolor-bg"]=u.bg_truecolor,u.bg_truecolor=null)):p.push("background-color:rgb("+u.bg+")")),s?'<span class="'+h.join(" ")+'"'+b.call(u,_)+">"+a+"</span>":'<span style="'+p.join(";")+'"'+b.call(u,_)+">"+a+"</span>"},t={escape_for_html:function(t){var n=new r;return n.escape_for_html(t)},linkify:function(t){var n=new r;return n.linkify(t)},ansi_to_html:function(t,n){var o=new r;return o.ansi_to_html(t,n)},ansi_to_text:function(t){var n=new r;return n.ansi_to_text(t)},ansi_to_html_obj:function(){return new r}},o&&(module.exports=t),"undefined"!=typeof window&&"undefined"==typeof ender&&(window.ansi_up=t),"function"==typeof define&&define.amd&&define("ansi_up",[],function(){return t})}(Date);